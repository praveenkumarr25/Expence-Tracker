<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Expense Tracker</title>
    <link rel="stylesheet" href="./style.css"> 
</head>
<body>
    <div id="login" class="login-container" style="display: block;">
  <div class="login-box">
    <h2>üîê Smart Expense Tracker</h2>
    <p>Track your finances across all devices</p>
    <div class="form-group">
      <input type="email" id="userId" placeholder="Email">
      <input type="password" id="password" placeholder="Password">
    </div>
    <button onclick="login()" id="loginButton" class="btn btn-primary full-width">Login</button>
    <button onclick="register()" class="btn btn-secondary full-width">Create Account</button>
    <p id="loginError" style="color:#e74c3c;text-align:center;margin-top:10px;"></p>
  </div>
</div>

<div class="container" id="container" style="display:none;">
  <!-- your existing app -->

    <div class="container" id="container">
        <header>
            <button id="menuToggle" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
                
            </button>
            <div class="title-section">
                <h1>üí∞ Smart Expense Tracker</h1>
                <p>Track, Analyze & Manage Your Finances</p>
            </div>
        </header>

        <div class="menubar">
            <button class="menu-btn active" onclick="switchTab('add-transaction')">‚ûï Add Transaction</button>
            <button class="menu-btn" onclick="switchTab('dashboard')">üìä Dashboard</button>
            <button class="menu-btn" onclick="switchTab('all-transactions')">üìã All Transactions</button>
            <button class="menu-btn logout-menu" onclick="logout()">Logout</button>

        </div>

        <!-- ADD TRANSACTION TAB -->
        <div id="add-transaction" class="tab-content active">
            <div class="form-section">
                <h2>Add New Transaction</h2>
                <div class="form-group">
                    <div>
                        <label>Date</label>
                        <input type="date" id="transDate" value="">
                    </div>
                    <div>
                        <label>Type</label>
                        <select id="transType" onchange="updateCategories()">
                            <option value="Expense">Expense</option>
                            <option value="Income">Income</option>
                        </select>
                    </div>
                    <div>
                        <label>Category</label>
                        <select id="transCategory" onchange="autoFillDescription()">
                            <option value="Salary">Salary</option>
                            <option value="Freelance">Freelance</option>
                            <option value="Business">Business</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <div>
                        <label>Description</label>
                        <input type="text" id="transDescription" placeholder="Enter description">
                    </div>
                    <div>
                        <label>Amount (‚Çπ)</label>
                        <input type="number" id="transAmount" placeholder="0" min="0" step="0.01">
                    </div>
                    <div>
                        <label>Payment Method</label>
                        <select id="transPaymentMethod">
                            <option value="UPI/Bank">UPI/Bank</option>
                            <option value="Cash">Cash</option>
                        </select>
                    </div>
                </div>
                <div class="form-buttons">
                    <button class="btn btn-primary" onclick="addTransaction()">‚úì Add Transaction</button>
                    <button class="btn btn-secondary" onclick="clearForm()">Clear</button>
                </div>
            </div>
        </div>

        <!-- DASHBOARD TAB -->
        <div id="dashboard" class="tab-content">
            <div class="period-selector">
                <button class="period-btn active" onclick="filterByPeriod('monthly')">üìÖ Monthly</button>
                <button class="period-btn" onclick="filterByPeriod('yearly')">üìà Yearly</button>
                <button class="period-btn" onclick="filterByPeriod('weekly')">üìÜ Weekly</button>
                <button class="period-btn" onclick="filterByPeriod('all')">All Time</button>
            </div>

            <div class="dashboard">
                <div class="card income">
                    <h3>Total Income</h3>
                    <div class="amount" id="totalIncome">‚Çπ0</div>
                    <div class="subtitle" id="incomeCount">0 transactions</div>
                </div>
                <div class="card expense">
                    <h3>Total Expenses</h3>
                    <div class="amount" id="totalExpense">‚Çπ0</div>
                    <div class="subtitle" id="expenseCount">0 transactions</div>
                </div>
                <div class="card balance">
                    <h3>Net Balance</h3>
                    <div class="amount" id="netBalance">‚Çπ0</div>
                    <div class="subtitle" id="savingsRate">0% Savings</div>
                </div>
            </div>

            <div class="charts-container">
                <div class="chart-card">
                    <h2>üìä Expense Distribution</h2>
                    <canvas id="expensePieChart"></canvas>
                </div>
                <div class="chart-card">
                    <h2>üìà Income vs Expenses</h2>
                    <canvas id="incomeExpenseChart"></canvas>
                </div>
            </div>

            <div class="data-section">
                <h2>Data Management</h2>
                <button onclick="exportData()">Export Data</button>
                <input type="file" id="importFile" accept=".json">
                <button onclick="importData()">Import Data</button>
            </div>
        </div>

        <!-- ALL TRANSACTIONS TAB -->
        <div id="all-transactions" class="tab-content">
            <div class="transactions-list">
                <h2>All Transactions</h2>
                <table id="transactionsTable">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Type</th>
                            <th>Category</th>
                            <th>Description</th>
                            <th>Amount</th>
                            <th>Payment Method</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                    </tbody>
                </table>
                <div id="emptyState" class="empty-state">
                    <p>No transactions yet. Add one from the "Add Transaction" tab!</p>
                </div>
            </div>
        </div>
    </div>
    <div class="hamburger" onclick="toggleMenu()">‚ò∞</div>

<script src="./script.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>

</body>
</html>
